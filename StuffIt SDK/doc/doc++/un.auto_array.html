<html><head><title>un::auto_array</title></head>
<body>
<i><a href="index.html">Table of Contents</a>
 <a href="hierarchy.html">Class Hierarchy</a>
 <a href="diagrams.html">Class Diagrams</a></i>
<p><b><font size=+2>template &lt;typename T&gt;   class  un::auto_array</font></b><blockquote>
A smart pointer class that stores a pointer to a dynamically allocated array
of objects
</blockquote>
<hr>

<DL>
<DL>
<DT><h5>Public Fields</h5><DD><dt><a href="#DOC.493.6"></a>typedef  T  <b>element_type</b> </b>
 <dd><i>Provides the type of the stored pointer</i>
</DL><DL>
<DT><h5>Public Methods</h5><DD><dt><a href="#DOC.493.1"></a>explicit  <b>auto_array</b>(T* p = 0) </b>
 <dd><i>Default constructor</i>
<dt><a href="#DOC.493.2"></a> <b>~auto_array</b>() </b>
 <dd><i>Destructor</i>
<dt><a href="#DOC.493.3"></a>void  <b>reset</b>(T* p = 0) </b>
 <dd><i>Deletes the array of objects and stores a new pointer</i>
<dt><a href="#DOC.493.4"></a>T&  <b>operator[]</b>(size_t i) const  </b>
 <dd><i>Returns a reference to an element of the array</i>
<dt><a href="#DOC.493.5"></a>T*  <b>operator)</b>() const  </b>
 <dd><i>Returns a pointer to the object</i>
</DL></DL>
<hr>
<h4>Documentation</h4>
<blockquote>
A smart pointer class that stores a pointer to a dynamically allocated array
of objects. (Dynamically allocated arrays are those allocated with the C++
vector <code>new</code>). This class deletes the array of objects that the
pointer points to, in the destructor or explicitly with <code>reset()</code>. It
is an extension of <code>un::auto_ptr</code> to arrays of objects.

<p>This class uses vector C++ <code>delete</code> and therefore will not work
correctly with individual objects. <code>un::auto_ptr</code> should be used
for pointers to objects.

<p>This class is a simple solution for pointers that do not have shared ownership.
It has a private copy constructor and a private assignment operator, which disallow
transfer of ownership of the stored pointer. <code>un::counted_array</code>
should be used for shared-ownership pointers.

<p>This class should not have any time or space overhead over built-in pointers.

<p>This class is a template parameterized on <code>T</code>, the type of the
object it points to. To work correctly, <code>T</code>'s destructor must not
throw exceptions.

<p>A more functional alternative to this class is a <code>un::auto_ptr</code>
to an <code>std::vector</code>.

<p>This class is similar to <code>std::auto_ptr</code> but uses C++ vector
<code>delete</code> and does not implement ownership and transfer of ownership
semantics.



</blockquote>
<DL>

<A NAME="element_type">
<A NAME ="DOC.493.6">
<DT><TT><b> typedef  T  element_type</b></TT>
<DD>Provides the type of the stored pointer
<dl></DL><P>
<A NAME="auto_array">
<A NAME ="DOC.493.1">
<DT><TT><b> explicit  auto_array(T* p = 0)</b></TT>
<DD>Default constructor. Creates a <code>un::auto_array</code>, storing
a copy of <code>p</code>, which must be a pointer to a dynamically
allocated array of objects of type <code>T</code> or a 0.
<dl></DL><P>
<A NAME="~auto_array">
<A NAME ="DOC.493.2">
<DT><TT><b>  ~auto_array()</b></TT>
<DD>Destructor. Deletes the array of objects pointed to by the stored
pointer. Note that the C++ vector <code>delete</code> on a pointer with
a value of 0 is harmless. 
<dl></DL><P>
<A NAME="reset">
<A NAME ="DOC.493.3">
<DT><TT><b> void  reset(T* p = 0)</b></TT>
<DD>Deletes the array of objects and stores a new pointer. If
<code>p</code> is not equal to the stored pointer, deletes the object
pointed to by the stored pointer and then stores a copy of
<code>p</code>, which must be a pointer to a dynamically allocated array
of objects or a 0.


<dl><DT><b>Parameters:</b><DD><b>p</b> -  the new value of the pointer<br></DL><P>
<A NAME="operator[]">
<A NAME ="DOC.493.4">
<DT><TT><b> T&  operator[](size_t i) const </b></TT>
<DD>Returns a reference to an element of the array. Behavior is
undefined if the stored pointer is 0 or if <code>i</code> is less than 0
or is greater or equal to the number of elements in the array.


<dl><dt><b>Returns:</b><dd>a reference to element <code>i</code> of the array that the
stored pointer points to
<DT><b>Parameters:</b><DD><b>i</b> -  the index of the element of the array
<br></DL><P>
<A NAME="operator)">
<A NAME ="DOC.493.5">
<DT><TT><b> T*  operator)() const </b></TT>
<DD>Returns a pointer to the object.


<dl><dt><b>Returns:</b><dd>a pointer to the array of objects that the stored pointer points to
</DL><P></DL>
<hr>
 <DL><DT><b>This class has no subclasses.</b></DL>
<dl><DT><b>Author:</b><DD>serge@aladdinsys.com

<DT><b>Version:</b><DD>$Revision: 1.1 $, $Date: 2001/03/03 00:03:47 $

<DT><b>See Also:</b><DD><!1><a href="un.auto_ptr.html">un::auto_ptr</a> 
<br>un::counted_array<br></DL><P>
<hr>
<p><i>Generated by <a href="http://www.zib.de/Visual/software/doc++/index.html">doc++</a></i>

</body></html>
